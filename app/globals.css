@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg-primary: #0b1220;
  --bg-secondary: #111827;
  --bg-tertiary: #1f2937;

  --surface-primary: #111827;
  --surface-glass: rgba(17, 24, 39, 0.62);
  --surface-overlay: rgba(17, 24, 39, 0.84);
  --surface-scrim: rgba(2, 6, 23, 0.62);

  --text-primary: #f1f5f9;
  --text-secondary: #cbd5e1;
  --text-muted: #94a3b8;

  --border-primary: rgba(255, 255, 255, 0.08);

  --btn-primary-bg: linear-gradient(135deg, #3b82f6, #6366f1);
  --btn-primary-text: #ffffff;

  --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.4);

  --accent: #5b8cff;
  --accent-soft: #818cf8;
  --accent-foreground: #ffffff;

  --logo-bg: rgba(255, 255, 255, 0.92);
  --logo-text: #020617;
  --logo-border: rgba(255, 255, 255, 0.62);

  --glass-bg: var(--surface-glass);
  --glass-border: var(--border-primary);
  --glass-hover: rgba(148, 163, 184, 0.14);
  --glass-border-strong: rgba(191, 219, 254, 0.24);
  --glass-tint: rgba(30, 41, 59, 0.45);

  --success-bg: rgba(16, 185, 129, 0.18);
  --success-border: rgba(52, 211, 153, 0.32);
  --success-text: #a7f3d0;

  --feature-card-grad-start: rgba(29, 78, 216, 0.36);
  --feature-card-grad-mid: rgba(99, 102, 241, 0.3);
  --feature-card-grad-end: rgba(2, 6, 23, 0.95);
  --feature-card-border: rgba(148, 163, 184, 0.3);
  --feature-card-text: #f8fafc;
  --feature-card-text-secondary: #cbd5e1;
  --feature-card-chip-bg: rgba(255, 255, 255, 0.12);
  --feature-card-chip-border: rgba(255, 255, 255, 0.24);
  --feature-card-cta-bg: rgba(255, 255, 255, 0.94);
  --feature-card-cta-text: #0f172a;

  --range-track: rgba(148, 163, 184, 0.26);
  --range-thumb: var(--accent);
  --range-thumb-border: rgba(241, 245, 249, 0.96);
  --range-thumb-shadow: rgba(91, 140, 255, 0.4);

  --canvas-bg: #0f172a;
  --canvas-label-bg: rgba(241, 245, 249, 0.9);
  --canvas-label-border: rgba(148, 163, 184, 0.45);
  --canvas-label-text: rgba(15, 23, 42, 0.88);
  --canvas-divider: rgba(241, 245, 249, 0.4);
  --curve-default: #e2e8f0;
  --curve-point-bg: #020617;
  --channel-red: #ef4444;
  --channel-orange: #f97316;
  --channel-yellow: #eab308;
  --channel-green: #22c55e;
  --channel-aqua: #06b6d4;
  --channel-blue: #3b82f6;
  --channel-purple: #a855f7;
  --channel-magenta: #d946ef;

  --crop-stroke: rgba(241, 245, 249, 0.92);
  --crop-grid: rgba(241, 245, 249, 0.26);
  --crop-handle-bg: rgba(241, 245, 249, 0.98);
  --crop-handle-border: rgba(148, 163, 184, 0.7);
  --crop-mask: rgba(0, 0, 0, 0.52);

  --gradient-start: #0f172a;
  --gradient-middle: #1e293b;
  --gradient-end: #0b1220;

  --blob-blue: #2b4fd5;
  --blob-indigo: #4338ca;
  --blob-cyan: #0ea5e9;

  --animate-first: moveVertical 24s ease infinite;
  --animate-second: moveInCircle 16s reverse infinite;
  --animate-third: moveInCircle 32s linear infinite;
  --animate-fourth: moveHorizontal 32s ease infinite;
  --animate-fifth: moveInCircle 16s ease infinite;
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  min-height: 100%;
}

html {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
}

body {
  font-family: var(--font-body), Inter, ui-sans-serif, system-ui, sans-serif;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.7;
  transition:
    background-color 0.4s ease,
    color 0.3s ease,
    border-color 0.3s ease,
    box-shadow 0.3s ease;
}

.bg-theme {
  background-color: var(--bg-primary);
}

.app-content-layer {
  position: relative;
  z-index: 10;
}

.gradient-base {
  background: linear-gradient(120deg, var(--gradient-start), var(--gradient-middle), var(--gradient-end));
}

.gradient-blob {
  mix-blend-mode: screen;
  transform: translateZ(0);
}

.gradient-editor .gradient-blob {
  animation: none !important;
}

.bg-gradient-layer {
  background: linear-gradient(120deg, var(--gradient-start), var(--gradient-middle), var(--gradient-end));
  background-size: 200% 200%;
  animation: gradientShift 20s ease infinite;
  opacity: 0.8;
  will-change: transform;
  transform: translateZ(0);
}

@layer base {
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-heading), "Space Grotesk", ui-sans-serif, system-ui, sans-serif;
    color: var(--text-primary);
    margin: 0;
  }

  h1 {
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    line-height: 1;
    letter-spacing: -0.03em;
    font-weight: 700;
  }

  h2 {
    font-size: clamp(2.1rem, 4.1vw, 2.75rem);
    line-height: 1.06;
    letter-spacing: -0.02em;
    font-weight: 650;
  }

  h3 {
    font-size: clamp(1.5rem, 2.8vw, 2rem);
    line-height: 1.14;
    letter-spacing: -0.018em;
    font-weight: 600;
  }

  p {
    color: var(--text-secondary);
    line-height: 1.7;
    font-weight: 500;
    margin: 0;
  }

  small {
    color: var(--text-muted);
  }

  a {
    color: inherit;
    text-decoration: none;
  }
}

@layer components {
  .page-shell {
    @apply relative mx-auto w-full max-w-7xl px-4 pb-12 pt-6 sm:px-6 sm:pb-14 sm:pt-7 md:pb-16 md:pt-8 lg:px-8 lg:pb-20 lg:pt-9;
  }

  .section-gap {
    @apply mt-20 md:mt-28;
  }

.glass-panel {
    @apply rounded-[28px] border p-6 backdrop-blur-[24px];
    background:
      linear-gradient(160deg, rgba(148, 163, 184, 0.1), transparent 48%),
      linear-gradient(135deg, var(--glass-tint), rgba(15, 23, 42, 0.58));
    border-color: var(--glass-border-strong);
    box-shadow:
      0 24px 60px rgba(2, 6, 23, 0.45),
      inset 0 1px 0 rgba(255, 255, 255, 0.12);
  }

  .glass-soft-panel {
    @apply rounded-2xl border p-5 backdrop-blur-[22px];
    background:
      linear-gradient(140deg, rgba(148, 163, 184, 0.08), transparent 55%),
      linear-gradient(135deg, rgba(30, 41, 59, 0.42), rgba(15, 23, 42, 0.55));
    border-color: var(--glass-border-strong);
    box-shadow:
      0 18px 44px rgba(2, 6, 23, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .surface-card {
    background: var(--surface-primary);
    border: 1px solid var(--border-primary);
    box-shadow: var(--shadow-soft);
  }

  .surface-glass {
    background: var(--surface-glass);
    border: 1px solid var(--border-primary);
    box-shadow: var(--shadow-soft);
    backdrop-filter: blur(20px);
  }

  .logo-pill {
    @apply rounded-full px-4 py-2 text-sm font-semibold tracking-tight shadow-md backdrop-blur-sm;
    background: var(--logo-bg);
    color: var(--logo-text);
    border: 1px solid var(--logo-border);
  }

  .hero-kicker {
    @apply inline-flex rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-[0.16em];
    border: 1px solid var(--border-primary);
    background: var(--surface-glass);
    color: var(--text-muted);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-xl px-5 py-2.5 text-sm font-semibold tracking-wide transition duration-200 focus-visible:outline-none focus-visible:ring-2;
    background: var(--btn-primary-bg);
    background-size: 220% 220%;
    background-position: 0% 50%;
    color: var(--btn-primary-text);
    border: 1px solid transparent;
    box-shadow:
      0 14px 36px rgba(59, 130, 246, 0.34),
      inset 0 1px 0 rgba(255, 255, 255, 0.16);
    transition:
      background-position 280ms ease,
      filter 220ms ease,
      box-shadow 220ms ease,
      transform 220ms ease;
  }

  .btn-primary:hover {
    background-position: 100% 50%;
    filter: brightness(1.08);
    transform: translateY(-1px);
    box-shadow:
      0 18px 42px rgba(99, 102, 241, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  .btn-primary:focus-visible {
    --tw-ring-color: color-mix(in srgb, var(--accent) 40%, transparent);
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center rounded-xl border px-5 py-2.5 text-sm font-medium tracking-wide transition duration-200 focus-visible:outline-none focus-visible:ring-2;
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.48), rgba(15, 23, 42, 0.56));
    color: var(--text-primary);
    border-color: var(--glass-border-strong);
    box-shadow: 0 10px 28px rgba(2, 6, 23, 0.34);
  }

  .btn-ghost:hover {
    background: linear-gradient(135deg, rgba(51, 65, 85, 0.58), rgba(30, 41, 59, 0.66));
  }

  .btn-ghost:focus-visible {
    --tw-ring-color: color-mix(in srgb, var(--accent) 28%, transparent);
  }

  .feature-card {
    @apply block h-full rounded-xl p-7 transition duration-200 hover:-translate-y-1 focus-visible:outline-none focus-visible:ring-2;
    background:
      linear-gradient(160deg, rgba(191, 219, 254, 0.1), transparent 48%),
      linear-gradient(152deg, rgba(37, 99, 235, 0.28), rgba(67, 56, 202, 0.24), rgba(2, 6, 23, 0.74));
    border: 1px solid var(--glass-border-strong);
    box-shadow:
      0 24px 56px rgba(2, 6, 23, 0.45),
      inset 0 1px 0 rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(22px);
    --tw-ring-color: color-mix(in srgb, var(--accent) 40%, transparent);
  }

  .feature-card-icon {
    @apply grid h-10 w-10 place-items-center rounded-full;
    background: var(--feature-card-chip-bg);
    color: var(--feature-card-text);
  }

  .feature-card-badge {
    @apply rounded-full px-2.5 py-1 text-[11px] font-semibold tracking-wide;
    background: var(--feature-card-chip-bg);
    color: var(--feature-card-text);
    border: 1px solid var(--feature-card-chip-border);
  }

  .feature-card-title {
    color: var(--feature-card-text);
  }

  .feature-card-desc {
    color: var(--feature-card-text-secondary);
  }

  .feature-card-cta {
    @apply inline-flex w-fit items-center justify-center rounded-xl px-7 py-3.5 text-sm font-semibold tracking-wide;
    background: var(--feature-card-cta-bg);
    color: var(--feature-card-cta-text);
  }

  .status-chip {
    @apply rounded-full px-2 py-1 text-[11px] font-semibold;
    background: var(--success-bg);
    border: 1px solid var(--success-border);
    color: var(--success-text);
  }

  .dropzone {
    @apply grid w-full place-items-center rounded-3xl border border-dashed px-5 py-8 text-center transition;
    border-color: var(--border-primary);
    background: var(--surface-glass);
  }

  .dropzone:hover {
    background: var(--surface-overlay);
  }

  .dropzone-active {
    border-color: var(--accent);
    background: color-mix(in srgb, var(--accent) 16%, transparent);
  }

  .chip-row {
    @apply flex items-center gap-2 rounded-full px-4 py-2.5 text-sm font-medium;
    border: 1px solid var(--border-primary);
    background: var(--surface-glass);
    color: var(--text-primary);
  }

  .chip-icon {
    @apply grid h-5 w-5 place-items-center rounded-full;
    background: var(--success-bg);
    color: var(--success-text);
  }

  .bottom-overlay {
    @apply rounded-full px-3 py-2 backdrop-blur-xl;
    border: 1px solid var(--border-primary);
    background: var(--surface-overlay);
  }

  .modal-overlay {
    background: var(--surface-scrim);
  }

  .canvas-frame {
    @apply rounded-2xl border;
    background: var(--canvas-bg);
    border-color: var(--border-primary);
    box-shadow: var(--shadow-soft);
  }

  .range-input {
    @apply h-2 w-full cursor-pointer rounded-full;
    -webkit-appearance: none;
    appearance: none;
  }

  .range-input::-webkit-slider-runnable-track {
    height: 0.5rem;
    border-radius: 999px;
    background: transparent;
  }

  .range-input::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    height: 1.125rem;
    width: 1.125rem;
    margin-top: -0.3125rem;
    border-radius: 999px;
    border: 2px solid var(--range-thumb-border);
    background: var(--range-thumb);
    box-shadow: 0 5px 18px var(--range-thumb-shadow);
    transition: transform 0.18s;
  }

  .range-input:hover::-webkit-slider-thumb {
    transform: scale(1.06);
  }

  .range-input::-moz-range-track {
    height: 0.5rem;
    border-radius: 999px;
    background: transparent;
  }

  .range-input::-moz-range-thumb {
    height: 1.125rem;
    width: 1.125rem;
    border-radius: 999px;
    border: 2px solid var(--range-thumb-border);
    background: var(--range-thumb);
    box-shadow: 0 5px 18px var(--range-thumb-shadow);
  }

  .text-secondary {
    color: var(--text-secondary);
  }

  .text-muted {
    color: var(--text-muted);
  }

  .text-ink {
    color: var(--text-primary);
  }

  .text-ink-soft {
    color: var(--text-secondary);
  }

  .shadow-soft {
    box-shadow: var(--shadow-soft);
  }

  .animate-rise {
    animation: rise 0.5s ease both;
  }
}

@keyframes rise {
  from {
    opacity: 0;
    transform: translateY(14px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

@keyframes moveVertical {
  0% {
    transform: translateY(-50%);
  }

  50% {
    transform: translateY(50%);
  }

  100% {
    transform: translateY(-50%);
  }
}

@keyframes moveInCircle {
  0% {
    transform: rotate(0deg);
  }

  50% {
    transform: rotate(180deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@keyframes moveHorizontal {
  0% {
    transform: translateX(-50%) translateY(-10%);
  }

  50% {
    transform: translateX(50%) translateY(10%);
  }

  100% {
    transform: translateX(-50%) translateY(-10%);
  }
}

.animate-first {
  animation: var(--animate-first);
}

.animate-second {
  animation: var(--animate-second);
}

.animate-third {
  animation: var(--animate-third);
}

.animate-fourth {
  animation: var(--animate-fourth);
}

.animate-fifth {
  animation: var(--animate-fifth);
}

@media (max-width: 640px) {
  .gradient-blob {
    animation-duration: 34s;
    opacity: 0.5;
  }

  .animate-second,
  .animate-fifth {
    animation-duration: 24s;
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-rise {
    animation: none;
  }

  .bg-gradient-layer {
    animation: none;
  }
}
